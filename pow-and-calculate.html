<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pow-and-calculate</title>
</head>
<body>

<script>
//   function pow(x,n) {
//       let result = 1;
//       if (n < 0){
//           n = -(n);
//           result = 1 / x;  
//           for (let i = 1; i < n; i++){
//             result *= 1 / x;  
//         }
//       } else {
//       for (let i = 1; i <= n; i++){
//           result *= x;
//       }
//     }
//       return result;
//   };

// через  рекурсию
// function pow(x){
//     return function (n){
//         if (n == 1) {
//             return x;
//         } else if (n == 0){
//             return x + '^' + n +' = ' + 1;
//         } else if (n < 1) {
//             return ( x + '^' + '('+ n +')'+' = ' + (1 / (x * pow(x)(-n-1))));
//         } else if (n > 1) {
//             return ( x + '^' + n +' = ' + (x *= pow(x)(n-1)));
//         };
// };
// };

function pow(x){
    return function (n){
        let result = 1;
        let issue = `${x}^${n} = `;
        if (n == 1) {
            console.log( issue + x );
        } else if (n == 0){
            console.log( issue + 1);
        } else if (n < 1) {
            result = 1 / x; 
            for (let i = 1; i < -(n); i++){
                result *= 1 / x;
            }
            console.log ( x + '^' + '('+ n +')'+' = ' + result);
        } else if (n > 1) {
            for (let i = 1; i <= n; i++){
                result *= x;
            }
            console.log( issue + result);
        };
    };
};
function calculate(a){
   return function (b){
      return function(c){
         
          let issue = `${a}${b}${c} = `;
        switch (b) {
            case '+':
                console.log (issue + (a+c));
                break;
            case '-':
                console.log (issue + (a-c));
                break;
            case '/':
                if(c==0){
                    console.log(a+b+c+'='+' Ошибка (на ноль делить нельзя)')
                } else {
                console.log (issue + (a/c));
                }
                break;
            case '*':
                console.log (issue + (a*c));
                break;
        };
    };
    };
};

pow(-2)(3);
pow(4)(2);
pow(16)(0);
pow(2)(-3);
pow(2)(1);
calculate(1)('+')(2);
calculate(3)('*')(7);
calculate(15)('/')(3);
calculate(2)('/')(0);

</script>
</body>
</html>